<!DOCTYPE html>
<style>
/* الهيدر العلوي */
#header-wrapper,
header.site-header,
header.blog-header,
.header-logo,
.top-bar,
.navbar,
.navbar-wrapper {
  display: none !important;
}

/* القائمة الجانبية (الفولدر) */
#sidebar,
.sidebar,
.sidebar-wrapper,
.sidebar-area {
  display: none !important;
}

/* الفوتر */
#footer-wrapper,
footer.site-footer,
footer.footer,
.footer-container {
  display: none !important;
}
</style>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>فيديوهات منبثقة</title>
<style>
  :root { --bg:#0b0f19; --card:#121827; --text:#e5e7eb; --accent:#4f46e5; --overlay:rgba(0,0,0,.65); }
  * { box-sizing:border-box; }
  body {
    margin:0; font-family:system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    background:linear-gradient(160deg, var(--bg), #0e1324); color:var(--text);
  }
  header { text-align:center; padding:28px 16px; }
  header h1 { margin:0 0 6px; font-size:26px; }
  header p { margin:0; opacity:.8; }

  .grid {
    max-width:980px; margin:22px auto 48px; padding:0 16px;
    display:grid; gap:14px;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .btn {
    display:flex; align-items:center; justify-content:center; gap:8px;
    padding:14px 16px; border:0; border-radius:16px; cursor:pointer;
    background:linear-gradient(180deg, #1a2140, var(--card));
    color:var(--text); font-weight:600; letter-spacing:.2px;
    box-shadow: 0 6px 18px rgba(17,24,39,.25), inset 0 0 0 1px rgba(255,255,255,.04);
    transition: transform .08s ease, box-shadow .2s ease, filter .2s ease;
  }
  .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 26px rgba(17,24,39,.35), inset 0 0 0 1px rgba(255,255,255,.06); }
  .btn:active { transform: translateY(0); filter:brightness(.96); }
  .btn small { opacity:.8; font-weight:500; }

  /* Modal */
  .modal {
    position:fixed; inset:0; display:none; place-items:center; padding:18px;
    background:var(--overlay); z-index:9999;
  }
  .modal.open { display:grid; }
  .modal__box {
    width:min(960px, 96vw); aspect-ratio:16/9; background:#000; border-radius:16px;
    box-shadow: 0 20px 60px rgba(0,0,0,.6);
    overflow:hidden; position:relative;
  }
  .modal__close {
    position:absolute; top:10px; inset-inline-end:10px;
    width:40px; height:40px; border:0; border-radius:50%;
    background:rgba(255,255,255,.1); color:#fff; cursor:pointer;
    font-size:20px; line-height:40px; text-align:center;
    backdrop-filter: blur(6px);
  }
  .modal__close:hover { background:rgba(255,255,255,.18); }

  .modal iframe {
    width:100%; height:100%; border:0; display:block;
  }

  /* Prevent scroll when modal open */
  body.noscroll { overflow:hidden; }
</style>
</head>
<body>
  <header>
    <h1>مرحباً بك في البرنامج التعليمي</h1>
    <p>هنا ستجد فيديوهات تعليمية لاستخدام التطبيق بشكل صحيح</p>
  </header>

  <main class="grid">
    <!-- عدل عناوين وروابط اليوتيوب في data-url -->
    <button class="btn open-video" data-url="https://youtu.be/GBLpny5P15Q?si=PwWAOOEdjUip4i4A">
    كيفية تفعيل الحساب داخل التطبيق
      <small>(تعليمي)</small>
    </button>

    <button class="btn open-video" data-url="https://youtube.com/shorts/F0fbzLKjn4U?si=09WR8SBxtyVNM9m5">
       استرجاع كلمة المرور
      <small>(تعليمي)</small>
    </button>

    <button class="btn open-video" data-url="https://youtube.com/shorts/HuOCgoI0W1Y?si=L0Q05lZmgaNhwoQD">
       طريقة التحميل من البوت
      <small>(تعليمي)</small>
    </button>

    <button class="btn open-video" data-url="https://www.youtube.com/watch?v=aqz-KE-bpKQ">
     طريقة استخدام اداة القياس
      <small>(تعليمي)</small>
    </button>
  </main>

  <!-- Modal -->
  <div class="modal" id="videoModal" aria-hidden="true" role="dialog">
    <div class="modal__box" role="document">
      <button class="modal__close" id="closeModal" aria-label="إغلاق">×</button>
      <iframe id="ytFrame" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen referrerpolicy="strict-origin-when-cross-origin"></iframe>
    </div>
  </div>

<script>
(function () {
  const modal = document.getElementById('videoModal');
  const iframe = document.getElementById('ytFrame');
  const closeBtn = document.getElementById('closeModal');

  // يحوّل جميع أنواع روابط يوتيوب إلى رابط تضمين + تشغيل تلقائي
  function toEmbedUrl(url) {
    try {
      const u = new URL(url);
      let id = '';

      if (u.hostname.includes('youtu.be')) {
        // رابط قصير
        id = u.pathname.slice(1);
      } else if (u.pathname.startsWith('/shorts/')) {
        // رابط Shorts
        id = u.pathname.split('/shorts/')[1].split('?')[0];
      } else {
        // الرابط العادي
        id = u.searchParams.get('v');
      }

      // جمع باراميترات الوقت لو وُجدت
      const start = u.searchParams.get('t') || u.searchParams.get('start') || 0;
      const params = new URLSearchParams({
        autoplay: '1',
        rel: '0',
        modestbranding: '1',
        playsinline: '1',
        start: parseInt(start, 10) || 0
      });

      return `https://www.youtube.com/embed/${id}?${params.toString()}`;
    } catch {
      return url; // في حال كان الرابط غير قياسي
    }
  }

  function openModal(url) {
    iframe.src = toEmbedUrl(url);
    modal.classList.add('open');
    document.body.classList.add('noscroll');
    modal.setAttribute('aria-hidden', 'false');
  }

  function closeModal() {
    iframe.src = ''; // إيقاف التشغيل
    modal.classList.remove('open');
    document.body.classList.remove('noscroll');
    modal.setAttribute('aria-hidden', 'true');
  }

  // فتح من الأزرار
  document.querySelectorAll('.open-video').forEach(btn => {
    btn.addEventListener('click', () => {
      const url = btn.getAttribute('data-url');
      openModal(url);
    });
  });

  // إغلاق بالنقر خارج الصندوق
  modal.addEventListener('click', (e) => {
    if (e.target === modal) closeModal();
  });

  // زر الإغلاق
  closeBtn.addEventListener('click', closeModal);

  // Esc
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && modal.classList.contains('open')) closeModal();
  });
})();
</script>
</body>
</html>